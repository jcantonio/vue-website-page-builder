# Custom Components Setup Guide

This guide shows you how to create custom components that can be injected into the Vue Website Page Builder.

## Quick Setup

Create a `ComponentsPageBuilder` folder in your project for customizable components:

```
your-project/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ ComponentsPageBuilder/
â”‚       â”œâ”€â”€ YourMediaLibraryComponent.vue
â”‚       â”œâ”€â”€ YourCustomBuilderComponents.vue
â”‚       â””â”€â”€ README.md (optional)
```

## Custom Media Library Component

By default, the Page Builder does not include a built-in media library.

This is intentional â€” without a custom media library, layout components that rely on images (like Image Blocks, Hero Sections, etc.) are disabled by default. Only helper components such as containers, headings, text, and buttons are available in this state.

To enable image-related components in the builder, you must inject your own media library by passing it to the PageBuilder via the `:CustomMediaLibraryComponent` prop:

- Create a `ComponentsPageBuilder` folder in your project for your Media Library.
- Pass your custom component to the builder using the `:CustomMediaLibraryComponent` prop:

#### ðŸŸ¢ **You have full control over your media library UI**

You are **completely free to design your media library** however you want.  
You can use any UI, API, or logic for browsing, searching, and selecting images.

**The only requirement:**  
When the user selects an image and clicks "Use Image" (or similar), you must run the following code to update the builder:

Example:

```vue
<script setup>
import {
  PageBuilder,
  PageBuilderClass,
  usePageBuilderModal,
  sharedPageBuilderStore,
} from '@myissue/vue-website-page-builder'
import '@myissue/vue-website-page-builder/style.css'
import YourMediaLibraryComponent from './ComponentsPageBuilder/YourMediaLibraryComponent.vue'

// Use sharedPageBuilderStore for shared state between PageBuilderClass and PageBuilder component and how components object should look like
const pageBuilderStateStore = sharedPageBuilderStore
const pageBuilderService.= new PageBuilderClass(pageBuilderStateStore)
const { closeMediaLibraryModal } = usePageBuilderModal()

const applySelectedImage = async function (imageURL) {

  // Set the selected image in the builder's state
  pageBuilderService.stageImageForSelectedElemente({
    // the selected image URL
    src: imageURL,
  })

  // Update the builder's image block with the new image
  await pageBuilderService.applyPendingImageToSelectedElement()


  // Close the media library modal
  closeMediaLibraryModal()
}
</script>

<template>
  <div>
    <PageBuilder :CustomMediaLibraryComponent="YourMediaLibraryComponent" />
  </div>
</template>
```

---

## Custom Layout Builder Components

The Page Builder includes a growing collection of built-in components available out of the box, including layout components and helper components. These default components are continuously improved and expanded over time.

If you'd like to use your own componentsâ€”whether custom-designed or tailored to specific needsâ€”you can inject them directly into the builder.

- Create a `ComponentsPageBuilder` folder in your project for your customizable components.
- Tip: You can use a Modal to allow users to browse and select custom components.
- Pass your custom component to the builder using the :CustomBuilderComponents prop.
- When a user selects or drops a component from your custom component picker, you should inject it into the builder using a function like `injectComponentToBuilder`. See the code example below for how to implement this.

```vue
<script setup>
import {
  PageBuilder,
  PageBuilderClass,
  usePageBuilderModal,
  sharedPageBuilderStore,
} from '@myissue/vue-website-page-builder'
import '@myissue/vue-website-page-builder/style.css'
import YourCustomBuilderComponents from './ComponentsPageBuilder/YourCustomBuilderComponents.vue'

// Use sharedPageBuilderStore for shared state between PageBuilderClass and PageBuilder component and how components object should look like
const pageBuilderStateStore = sharedPageBuilderStore
const pageBuilderService.= new PageBuilderClass(pageBuilderStateStore)

const injectComponentToBuilder = async function (componentObject) {
  const component = {
    // ID auto generated by the Page Builder
    id: null,
    html_code: componentObject.html_code,
    title: componentObject.title,
  }

  await pageBuilderService.addComponent(component)
  closeAddComponentModal()
}
</script>

<template>
  <div>
    <PageBuilder :CustomBuilderComponents="YourCustomBuilderComponents" />
  </div>
</template>
```

#### How should Components array look?

TypeScript interface for reference

The HTML of each component must be wrapped inside a `<section></section>`. The Page Builder relies on this `<section>` wrapper to correctly render each component and attach event listeners.

- So The Page Builder divides each component by looking for the `<section>` tag. Each componentâ€™s HTML must start with `<section>...</section>`.
- Tip For optimal responsive layouts, wrap each component content inside:

```html
<div class="relative py-4">
  <div class="mx-auto max-w-7xl lg:px-4 px-2">
    <!-- Your content here -->
  </div>
</div>
```

```typescript
interface Components {
  html_code: string
  id: string | null
  title: string
}

const components: Components[] = [
  {
    html_code: `<div class="relative py-4"> <div class="mx-auto max-w-7xl lg:px-4 px-2"> <div class="break-words"> <h2>This is a component</h2> </div> </div> </div> </section>`,
    id: null,
    title: 'Header Example One',
  },
  {
    html_code: `<div class="relative py-4"> <div class="mx-auto max-w-7xl lg:px-4 px-2"> <div class="break-words"> <h2>This is another component</h2> </div> </div> </div> </section>`,
    id: null,
    title: 'Header Example Two',
  },
]
```

## Benefits of This Approach

âœ… **Full Control**: You decide where and when to create components
âœ… **Flexible**: Adapt to any project structure
âœ… **Secure**: No postinstall scripts to worry about
âœ… **Simple**: Clean package with clear documentation
âœ… **Optional**: Only create components you actually need
